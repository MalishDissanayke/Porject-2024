<app-page-header title="Product Inventory" [breadcrumbSegments]="['Products', 'Add New Inventory']"></app-page-header>
<form [formGroup]="form" (ngSubmit)="submit()">
  <mat-card>
    <mat-card-content>
      <div class="col-md-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Product Name</mat-label>

          <mat-select formControlName="productName" required>
            <!-- <input matInput [(ngModel)]="searchText" placeholder="Search items" /> -->
            <mat-option *ngFor="let productcategory of productList" [value]="productcategory">{{productcategory.name}}</mat-option>
          </mat-select>
          <mat-hint>Ex: Sandun</mat-hint>
          <mat-error *ngIf="productNameField.invalid">
            <span *ngIf="productNameField.errors.required">Calling Name is required</span>
            <span *ngIf="productNameField.errors.server">{{nameField.errors.server.join(', ')}}</span>
            <span *ngIf="productNameField.errors.minlength">Calling Name should has at least null characters. </span>
            <span *ngIf="productNameField.errors.maxlength">Calling Name can have a maximum of 255 characters. </span>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="col-md-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Quantity</mat-label>
          <input matInput formControlName="quantity"  (change)="checkValidation()">
          <mat-hint>Ex: 1000</mat-hint>
          <mat-error *ngIf="quantityField.invalid">
            <span *ngIf="quantityField.errors.required">Calling Quantity is required</span>
            <span *ngIf="quantityField.errors.qty">work</span> 
           </mat-error>
        </mat-form-field>
      </div>

      <div class="col-md-12">
        <mat-form-field appearance="outline" class="w-100">
          <input matInput [matDatepicker]="picker" placeholder="Choose a date" formControlName="date" required>
          <mat-hint>Ex: 5/25/2024</mat-hint>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngIf="dateField.invalid">
            <span *ngIf="dateField.errors.required">Calling Quantity is required</span>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="text-right mt-5 d-flex">
        <button *ngIf="privilege.showAll" routerLink="/products/inventorytable" class="ml-0" mat-flat-button color="primary"><mat-icon>list</mat-icon> Product Inventory</button>
                <span class="spacer"></span>
        <button mat-stroked-button type="reset"><mat-icon>refresh</mat-icon> Clear</button>
        <button class="mr-0" mat-flat-button color="primary" type="submit"><mat-icon>save</mat-icon> Save</button>
      </div>
    </mat-card-content>
    <mat-card-actions align="right">
      <span class="text-warning">*</span> Required Fields
    </mat-card-actions>
  </mat-card>
</form>
